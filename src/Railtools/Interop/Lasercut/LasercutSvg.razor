@using Railtools.Tracks.Layouts
@preservewhitespace true 
<VectorMap @ref="@_map" FixedSize="new Vector2(1000, 1000)">
	<desc>Line engraving</desc>
	@foreach (var sect in Layout.Sections)
	{
		<TrackSectionLines Value="@sect"/>
	}
</VectorMap>

@code {

	[Parameter()] 
	public Layout Layout { get; set; } = new Layout();

	protected override async Task OnAfterRenderAsync(bool firstRender)
	{
		await base.OnAfterRenderAsync(firstRender);
		if (firstRender)
		{
			await _map.Fit(Layout.Bounds().Cast<double>(), true);
		}
	}

	private VectorMap _map;

}
